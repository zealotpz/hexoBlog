---
title: Java 日志打印
date: 2017-06-01 09:44:21
tags: slf4j
---
log4j 中常用的日志打印方式如下:
```java
logger.info("请求参数 " + param + ",id: '" + id + "'");
```
这样写不仅更啰嗦和可读性差，更严重的是字符串拼接影响效率（当这个级别并不需要输出的时候）。slf4j引入了一个{}的注入特性。并且由于避免了每次都进行字符串拼接，toString方法不会被调用

```java
private static final Logger logger = LoggerFactory.getLogger(LogTest.class);

logger.info("请求参数: {}", param);
```
<!--more-->
日志框架和System.out相比有两大优势：分类和级别。两者可以让你可以选择性的过滤日志，永久的或者只是在排查错误的时候.如下表格:

Level | 概述 |
----|------|
ERROR | 发生了严重的错误，必须马上处理。这种级别的错误是任何系统都无法容忍的。比如：空指针异常，数据库不可用，关键路径的用例无法继续执行。
WARN | 还会继续执行后面的流程，但应该引起重视。其实在这里我希望有两种级别：一个是存在解决方案的明显的问题（比如，"当前数据不可用，使用缓存数据"），另一个是潜在的问题和建议（比如“程序运行在开发模式下”或者“管理控制台的密码不够安全”）。应用程序可以容忍这些信息，不过它们应该被检查及修复。
DEBUG | 开发人员关注的事
TRACE | 更为详尽的信息，只是开发阶段使用。在产品上线之后的一小段时间内你可能还需要关注下这些信息，不过这些日志记录只是临时性的，最终应该关掉。DEBUG和TRACE的区别很难区分，不过如果你加了一行日志，在开发测试完后又删了它的话，这条日志就应该是TRACE级别的。

关于`{}`转义：
SLF4j仅支持在{后面紧跟}，例如：
```java
logger.debug("Set {1,2} differs from {}", "3");

//将会输出:
Set {1,2} differs from 3
```

```java
logger.debug("Set {1,2} differs from {{}}", "3");

//将会输出:
Set {1,2} differs from {3}
```
如果要输出＂{}＂则仅需要在{前面加上转移符"\"，例如：
```java
logger.debug("Set \\{} differs from {}", "3");

将会输出:
Set {} differs from 3
```
注意在Java中反斜杠需要写作： `\\`.
